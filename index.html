<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="shortcut icon" href="/img/favicon.ico" type="image/x-icon" />

  <title>Codebridge</title>
  <meta name="description" content="Civic technology in South Africa" />

  <!-- Twitter Card data -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="@codebridge">
  <meta name="twitter:title" content="Codebridge">
  <meta name="twitter:description" content="Civic technology in South Africa">
  <meta name="twitter:creator" content="@codebridge">
  <meta name="twitter:image" content="https://codebridge.org.za/img/logo.png">

  <!-- Open Graph data -->
  <meta property="og:title" content="Codebridge" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://codebridge.org.za/" />
  <meta property="og:image" content="https://codebridge.org.za/img/logo.png" />
  <meta property="og:description" content="Civic technology in South Africa" />
  <meta property="og:site_name" content="Codebridge" />

  <link rel="canonical" href="https://codebridge.org.za/">

  <link rel="stylesheet" href="css/bootstrap.min.css">
  <link rel="stylesheet" href="css/style.css">

</head>
<body>

  <script src="js/jquery-3.2.1.min.js"></script> 
  <script src="js/tabletop.min.js"></script>
  <script src="js/handlebars-v4.0.11.js"></script> 

  <div id="content"></div>

  <script id="details" type="text/x-handlebars-template">
    <div class="container">
      <div class="single well">
        <div>{{ name }}</div>
        <div>{{ email }}</div>
        <div>{{ url }}</div>
        <div>{{ phone }}</div>
        <div>{{ province }}</div>
      </div>
    </div>
  </script>

  <script type="text/javascript">
    var public_spreadsheet_url = 'https://docs.google.com/spreadsheets/d/1sN95ta5lfqeznMRJxx6F8Uub5BB-03t5W6VsIgS_9j0/pubhtml';

    $(document).ready( function() {
      Tabletop.init( { key: public_spreadsheet_url,
                       callback: showInfo,
                       parseNumbers: true } );
    });
      
    function showInfo(data, tabletop) {
      var source   = $("#details").html();
      var template = Handlebars.compile(source);

      $.each( tabletop.sheets("Details").all(), function(i, detail) {
        var html = template(detail);
        $("#content").append(html);
      });
    }
  </script>
</body>
</html>